"# novibet" 


Είχα κάποιες απορίες αλλά δεν έλαβα απάντηση από το kfilios@novibet.com.
Ηθελα μία διευκρίνιση για τα endpoints. Στο pdf λέει πως κάνω πρώτα ένα post request στο login με body :
{
"userName" : "your_first_name",
    "password" : "your_sire_name"
}
για να πάρω το bearer token.
Αρχικά δεν υπάρχει η login μέσα στο pdf, λογικά εννοείται η token. Επιπλέον δε χρειάζεται post, με get
επιστρέφει δεδομένα. Επίσης, δε χρειάζεται να μπει το token στο header των υπολοίπων request, καθώς, τα δεδομένα επιστρέφονται χωρίς αυτό.
Εγώ το έκανα έτσι όπως ζητείται στο pdf για λόγους αξιολόγησης.
Ένα ακόμα δύσκολο κομμάτι κατανόησης ήταν το api καθώς έχω τα αρχικά request για headlines και games και μετά τα 2 update.
Που αυτά τα update θα αντικαθιστούν τα υπάρχων ή θα προστίθενται στην λίστα;  Γιατί αν είναι για αντικατάσταση των υπάρχων,
το headline επέστρεφε μόνο ένα object στη λίστα και έτσι δε γινόταν η υλοποίηση του auto scroll κάθε 5 δευτερόλεπτα.
Επίσης αναφέρεται "Every ItemViewHolder must have time update for 20 second on time TextView."
Με μπέρδεψε η κατανόηση του. Κάθε item θα ενημερώνεται κάθε 20 δευτερόλεπτα στο textview time; Ενώ πιο κάτω λέει ότι η
εφαρμογή θα κάνει update request κάθε 20 δευτερόλεπτα; Δηλαδή θα κάνει update κάθε 2 και θα ενημερώνει το field κάθε 2; Ασαφή διατύπωση του ζητούμενου.
Τέλος, δεν ήταν κατανοητό ποια αντικείμενα έπρεπε να εμφανίζεται στις λίστες καθώς υπήρχαν λίστες μέσα στις λίστες στη JSON απάντηση.

Εν κατακλείδι, my solution:
Έκανα 2 λίστες, έναν pager για την ορίζοντα λίστα headlines και έναν recycler για την κάθετη λίστα games. Και στη στις 2 λίστες εισάγονται οι λίστες με τα objects που πιστεύω πως είναι τα ζητούμενα.
Γίνεται ένα πρώτο post request με το token και hard code τα στοιχεία σύνδεσης. Ως απάντηση παίρνω το token και μέσω Shared Preference το βάζω στον header των υπολοίπων requests με έναν interceptor.
Στη συνέχεια γίνεται η πρώτη λήψη των δεδομένων και εισάγονται στις λίστες και μετά ξεκινάει η συνεχόμενη λήψη των 2 update request κάθε 2 λεπτά.
Κατέληξα να κάνω προσθήκη των update στην υπάρχων λίστα για να υλοποιήσω το scroll κάθε 5 δευτερόλεπτα. Σε κάθε άλλη περίπτωση επιστρέφεται μόνο ένα αντικείμενο στο headlines και δε θα γινόταν το auto scroll.
Δεν έγινε κατανοητή η εκφώνηση οπότε απλά κάθε 2" γίνεται λήψη και εισαγωγή νέων δεδομένων και κάθε 5" auto scroll.
Τέλος, σε περίπτωση σφάλματος ή αδυναμία σύνδεσης στο ίντερνετ, με την επαναφορά στο δίκτυο ξεκινάει πάλι η λήψη των δεδομένων.